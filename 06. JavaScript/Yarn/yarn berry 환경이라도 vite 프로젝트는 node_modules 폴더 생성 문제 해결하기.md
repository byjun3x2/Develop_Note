---
link: "[[_Clipping]]"
title: "yarn berry 환경이라도 vite 프로젝트는 node_modules 폴더를 생성할 수 있다고 하는데 맞는 말인지 그리고 그게 맞다면"
source: "https://www.perplexity.ai/search/yarn-berry-hwangyeongirado-vit-fW1neTuCTyWziR2BW.MSTQ"
created: 2025-11-20
tags:
  - "clippings"
---
## yarn berry 환경이라도 vite 프로젝트는 node\_modules 폴더를 생성할 수 있다고 하는데 맞는 말인지? 그리고 그게 맞다면 node\_modules 폴더를 안만드는 방법은? 설정하는 방법이 있다고 들었는데

검토됨 20개의 소스

네, **맞는 말입니다.** Yarn Berry(v2+)의 PnP 모드를 사용하더라도 Vite 프로젝트에서는 기본적으로 `node_modules` 폴더가 생성됩니다.

이는 Yarn 패키지 매니저의 문제가 아니라, **Vite의 성능 최적화(Dependency Pre-bundling) 방식** 때문입니다.

## 1\. 왜 생기나요?

Vite는 개발 서버를 시작할 때 의존성들을 미리 번들링하여 브라우저가 더 빨리 로드할 수 있도록 최적화합니다. 이 캐시 파일들을 저장하는 **기본 경로가 `node_modules/.vite` 로 하드코딩** 되어 있기 때문에, PnP 환경이라도 Vite가 실행되면 강제로 `node_modules` 폴더가 생성됩니다.

## 2\. 안 만드는 방법 (설정 방법)

Vite 설정 파일에서 **캐시 저장 경로(`cacheDir`)를 변경** 하면 `node_modules` 생성을 막을 수 있습니다.

**설정 단계:**

1. `vite.config.ts` (또는 `.js`) 파일을 엽니다.
2. `cacheDir` 옵션을 추가하여 `node_modules` 가 아닌 다른 경로(예: `.vite`)로 변경합니다.

```
typescript
import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';

export default defineConfig({
  plugins: [react()],
  // 캐시 디렉토리를 node_modules가 아닌 다른 곳으로 지정
  cacheDir: './.vite'
});
```

## 3\. 추가 조치사항

경로를 변경한 후에는 다음 두 가지를 함께 처리해주시는 것이 좋습니다.
- **`.gitignore` 추가:** 변경한 캐시 경로(위 예시의 경우 `.vite`)를 깃에 올라가지 않도록 `.gitignore` 에 추가해야 합니다.
- **기존 폴더 삭제:** 이미 생성된 `node_modules` 폴더는 수동으로 한 번 삭제해 주시면 됩니다.

이렇게 설정하면 Yarn Berry의 PnP 철학에 맞게 `node_modules` 없이 깔끔한 프로젝트 구조를 유지할 수 있습니다.[ahnanne.tistory +1](https://ahnanne.tistory.com/95)